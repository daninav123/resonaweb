# Backend Environment Variables
# Copy this file to .env and fill in your values

# Node Environment
NODE_ENV=development

# Database
DATABASE_URL="postgresql://user:password@localhost:5432/resona_db"

# JWT Secrets (CHANGE THESE IN PRODUCTION!)
JWT_SECRET=your-secret-key-change-this-in-production
JWT_REFRESH_SECRET=your-refresh-secret-key-change-this
JWT_ACCESS_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d

# Server Configuration
BACKEND_PORT=3001
BACKEND_URL=http://localhost:3001

# Frontend URL
FRONTEND_URL=http://localhost:3000

# CORS (comma-separated for multiple origins)
CORS_ORIGIN=http://localhost:3000,http://localhost:3002

# Email Configuration (choose one provider)
EMAIL_PROVIDER=console # Options: console, smtp, sendgrid, resend
EMAIL_FROM=noreply@resona.com

# SMTP Configuration (if using smtp)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-specific-password

# SendGrid (if using sendgrid)
SENDGRID_API_KEY=SG.your-sendgrid-api-key

# Resend (if using resend)
RESEND_API_KEY=re_your-resend-api-key

# Redis (optional, for caching and blacklist)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_URL=redis://localhost:6379

# Google Maps API (for shipping calculations)
EMAIL_FROM=no-reply@resona.com
EMAIL_FROM_NAME=ReSona
EMAIL_REPLY_TO=soporte@resona.com

# Stripe Payment Gateway (IMPORTANTE para producción)
STRIPE_SECRET_KEY=sk_test_51xxxxxxxxxxxxxxxxxxxxx
STRIPE_PUBLISHABLE_KEY=pk_test_51xxxxxxxxxxxxxxxxxxxxx
STRIPE_WEBHOOK_SECRET=whsec_xxxxxxxxxxxxxxxxxxxxx

# Obtener claves en: https://dashboard.stripe.com/apikeys
# Webhook URL: https://tu-dominio.com/api/v1/payment/webhook
# Eventos del webhook: payment_intent.succeeded, payment_intent.payment_failed, charge.refunded

# Redsys Payment Gateway (TPV Virtual - soporta Bizum)
REDSYS_MERCHANT_CODE=999008881
REDSYS_TERMINAL=1
REDSYS_SECRET_KEY=sq7HjrUOBfKmC576ILgskD5srU870gJ7
REDSYS_ENVIRONMENT=test
REDSYS_BASE_URL=http://localhost:3000

# Obtener credenciales de tu banco o en: https://pagosonline.redsys.es/
# Ambiente test: https://sis-t.redsys.es:25443/sis/realizarPago
# Ambiente producción: https://sis.redsys.es/sis/realizarPago
# Webhook URL (notificación): https://tu-dominio.com/api/v1/redsys/notification

# Cloudinary (para almacenamiento de imágenes en producción)
CLOUDINARY_URL=cloudinary://api-key:api-secret@cloud-name
CLOUDINARY_CLOUD_NAME=your-cloud-name
CLOUDINARY_API_KEY=your-api-key
CLOUDINARY_API_SECRET=your-api-secret
# Obtener credenciales en: https://cloudinary.com/console
# GRATIS hasta 25GB de almacenamiento

# OpenAI (para generador de blog con IA)
OPENAI_API_KEY=sk-proj-xxxxxxxxxxxxxxxxxxxxx
OPENAI_PROJECT_ID=proj_xxxxxxxxxxxxxxxxxxxxx
OPENAI_ORG_ID=org-xxxxxxxxxxxxxxxxxxxxx
# Obtener credenciales en: https://platform.openai.com/api-keys
# DALL-E 3: $0.04 USD por imagen generada
# GPT-4: ~$0.03 USD por artículo generado

# Google Maps
GOOGLE_MAPS_API_KEY=your-google-maps-api-key

# Business Settings
BUSINESS_NAME=ReSona
BUSINESS_PHONE=+34600123456
BUSINESS_EMAIL=info@resona.com
BUSINESS_ADDRESS="Calle Example 123, Valencia"
BUSINESS_TAX_ID=B12345678

# Pricing Settings
DEFAULT_TAX_RATE=21
DEFAULT_DEPOSIT_PERCENT=20
WEEKEND_MULTIPLIER=1.5
WEEK_MULTIPLIER=5

# Shipping Settings
SHIPPING_DISCOUNT_PER_ITEM=5
SHIPPING_MAX_DISCOUNT=40
SHIPPING_MIN_PRICE=20

# Payment Terms
FULL_UPFRONT_DISCOUNT=10
ON_PICKUP_SURCHARGE=10

# Security
CORS_ORIGIN=http://localhost:3000
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW=60000

# SEO
SITE_URL=https://resona.com
SITE_TITLE=ReSona - Alquiler de Material para Eventos
SITE_DESCRIPTION=Alquiler de equipos de sonido, iluminación y audiovisuales para eventos en Valencia
