<!doctype html>
<html lang="es">
  <head>

    <meta charset="UTF-8" />
    
    <!-- Favicons - Múltiples formatos para mejor compatibilidad -->
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32.png" />
    <link rel="icon" type="image/png" sizes="192x192" href="/favicon-192.png" />
    <link rel="icon" type="image/png" sizes="512x512" href="/favicon.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="shortcut icon" href="/favicon.ico" />
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#5ebbff" />
    
    <!-- Google Search Console Verification -->
    <meta name="google-site-verification" content="heRuYSvPSIOtTXD7AAS5z4v9Xck_-pnWAIPaAtAxGQE">
    
    <!-- SEO Meta Tags gestionados dinámicamente por SEOHead.tsx -->
    
    <!-- Performance Optimizations - ORDEN CORRECTO -->
    <!-- 1. Backend API (CRÍTICO - Ahorra 300ms LCP) -->
    <link rel="preconnect" href="https://resona-backend.onrender.com" crossorigin="anonymous">
    <link rel="dns-prefetch" href="https://resona-backend.onrender.com">
    
    <!-- 3. Fuentes (con crossorigin y optimizadas) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet" media="print" onload="this.media='all'">
    <noscript><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet"></noscript>
    
    <!-- 4. Preconnect a Google Tag Manager -->
    <link rel="preconnect" href="https://www.googletagmanager.com">
    <link rel="dns-prefetch" href="https://www.google-analytics.com">
    
    <title>ReSona Events - Tu Partner en Eventos y Alquiler Profesional | Valencia</title>
    
    <!-- Inline Critical CSS for faster FCP -->
    <style>
      /* Critical CSS inlined - Expandido significativamente */
      *,::before,::after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}
      html{line-height:1.5;-webkit-text-size-adjust:100%;font-family:Inter,system-ui,sans-serif;-webkit-font-smoothing:antialiased;scroll-behavior:smooth}
      body{margin:0;line-height:inherit;background:#fff;color:#1f2937}
      #root{min-height:100vh;display:flex;flex-direction:column}
      .loading{display:flex;align-items:center;justify-content:center;min-height:100vh;font-size:1.5rem;color:#5ebbff;background:#f9fafb}
      .animate-spin{animation:spin 1s linear infinite}
      @keyframes spin{to{transform:rotate(360deg)}}
      h1,h2,h3,h4,h5,h6{font-weight:700;line-height:1.2;margin:0}
      h1{font-size:2.25rem}h2{font-size:1.875rem}h3{font-size:1.5rem}
      p{margin:0;line-height:1.625}
      img{display:block;max-width:100%;height:auto}
      button{cursor:pointer;background:transparent;border:0;padding:0;font-family:inherit}
      a{color:inherit;text-decoration:none}
      /* Tailwind utilities críticos */
      .container{width:100%;margin-left:auto;margin-right:auto;padding-left:1rem;padding-right:1rem}
      @media(min-width:640px){.container{max-width:640px}}
      @media(min-width:768px){.container{max-width:768px}}
      @media(min-width:1024px){.container{max-width:1024px}}
      @media(min-width:1280px){.container{max-width:1280px}}
      .flex{display:flex}.grid{display:grid}.hidden{display:none}
      .items-center{align-items:center}.justify-center{justify-content:center}.justify-between{justify-content:space-between}
      .gap-4{gap:1rem}.gap-8{gap:2rem}
      .rounded{border-radius:0.25rem}.rounded-lg{border-radius:0.5rem}
      .bg-white{background-color:#fff}.bg-gray-50{background-color:#f9fafb}.bg-blue-600{background-color:#2563eb}
      .text-white{color:#fff}.text-gray-900{color:#111827}.text-gray-600{color:#4b5563}
      .shadow{box-shadow:0 1px 3px 0 rgba(0,0,0,.1)}.shadow-md{box-shadow:0 4px 6px -1px rgba(0,0,0,.1)}
      .px-4{padding-left:1rem;padding-right:1rem}.py-8{padding-top:2rem;padding-bottom:2rem}
      .mb-4{margin-bottom:1rem}.mb-8{margin-bottom:2rem}.mt-4{margin-top:1rem}
      .font-bold{font-weight:700}.font-semibold{font-weight:600}
      .text-2xl{font-size:1.5rem}.text-3xl{font-size:1.875rem}
    </style>
    
    <!-- Script para cargar CSS de Vite de forma asíncrona - DESACTIVADO TEMPORALMENTE -->
    <!--
    <script>
      (function() {
        var observer = new MutationObserver(function(mutations) {
          mutations.forEach(function(mutation) {
            mutation.addedNodes.forEach(function(node) {
              if (node.tagName === 'LINK' && node.rel === 'stylesheet' && node.href.includes('/assets/')) {
                node.media = 'print';
                node.onload = function() {
                  this.onload = null;
                  this.media = 'all';
                };
                setTimeout(function() {
                  if (node.media === 'print') node.media = 'all';
                }, 1000);
              }
            });
          });
        });
        
        observer.observe(document.head, {
          childList: true,
          subtree: false
        });
        
        document.addEventListener('DOMContentLoaded', function() {
          observer.disconnect();
        });
      })();
    </script>
    -->
    
    <!-- Schemas generados dinámicamente por cada página -->
  </head>
  <body>
    <div id="root"><div class="loading">Cargando...</div></div>
    <script type="module" src="/src/main.tsx"></script>
    
    <!-- Google Analytics - Carga diferida para mejor performance -->
    <script>
      // Cargar GA solo después de interacción del usuario o 3 segundos (lo que ocurra primero)
      (function() {
        if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') return;
        
        let gaLoaded = false;
        
        function loadGA() {
          if (gaLoaded) return;
          gaLoaded = true;
          
          const script = document.createElement('script');
          script.async = true;
          script.src = 'https://www.googletagmanager.com/gtag/js?id=G-4F522M345Z';
          document.head.appendChild(script);
          
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-4F522M345Z');
        }
        
        // Cargar en primera interacción
        ['mousedown', 'touchstart', 'scroll', 'keydown'].forEach(function(event) {
          window.addEventListener(event, loadGA, { once: true, passive: true });
        });
        
        // O después de 3 segundos si no hay interacción
        setTimeout(loadGA, 3000);
      })();
    </script>
  </body>
</html>
