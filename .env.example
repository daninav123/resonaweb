# ============================================
# RESONA - Variables de Entorno
# ============================================
# IMPORTANTE: Copia este archivo a .env y configura los valores

# ============================================
# GENERAL
# ============================================
NODE_ENV=development
FRONTEND_PORT=3000
BACKEND_PORT=3001

# ============================================
# BACKEND
# ============================================

# Database
DATABASE_URL=postgresql://resona_user:resona_password@localhost:5432/resona_dev

# JWT Secrets (Generar con: openssl rand -base64 32)
JWT_SECRET=change_this_in_production_use_openssl_rand
JWT_REFRESH_SECRET=change_this_too_in_production
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# CORS
FRONTEND_URL=http://localhost:3000

# Email Configuration (ejemplo con SendGrid)
EMAIL_HOST=smtp.sendgrid.net
EMAIL_PORT=587
EMAIL_USER=apikey
EMAIL_PASS=your_sendgrid_api_key_here
EMAIL_FROM=noreply@resona.com
EMAIL_COMPANY_NAME=ReSona

# ============================================
# EXTERNAL SERVICES
# ============================================

# Google Maps API
CLOUDINARY_CLOUD_NAME=your_cloud_name
CLOUDINARY_API_KEY=your_cloudinary_api_key
CLOUDINARY_API_SECRET=your_cloudinary_api_secret

# Upload presets (create in Cloudinary dashboard)
CLOUDINARY_UPLOAD_PRESET="resona_products"
CLOUDINARY_FOLDER="resona"

# ============================================
# PAYMENTS - Stripe
# ====================================
# Get your keys from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# Stripe webhook endpoint: https://your-domain.com/api/v1/webhooks/stripe

# ============================================
# APPLICATION URLS
# ====================================
APP_URL="http://localhost:3000"
API_URL="http://localhost:3001"
WEBHOOK_URL="http://localhost:3001/api/v1/webhooks"

# Production URLs (update when deploying)
# APP_URL="https://resona.com"
# API_URL="https://api.resona.com"
# WEBHOOK_URL="https://api.resona.com/api/v1/webhooks"

# ============================================
# ENVIRONMENT
# ====================================
NODE_ENV="development"
# Options: development | production | test

# ============================================
# PORTS
# ====================================
PORT=3001
FRONTEND_PORT=3000

# ============================================
# FRONTEND VARIABLES (VITE)
# ====================================
VITE_API_URL="http://localhost:3001/api/v1"
VITE_APP_NAME="ReSona Events"
VITE_STRIPE_PUBLIC_KEY="pk_test_your_stripe_publishable_key"

# Production (update when deploying)
# VITE_API_URL="https://api.resona.com/api/v1"

# ============================================
# OPTIONAL FEATURES
# ====================================
# Analytics
GOOGLE_ANALYTICS_ID="G-XXXXXXXXXX"
FACEBOOK_PIXEL_ID="XXXXXXXXXX"

# Social Login (OAuth)
GOOGLE_CLIENT_ID="xxxxx.apps.googleusercontent.com"
GOOGLE_CLIENT_SECRET="xxxxx"
FACEBOOK_APP_ID="xxxxx"
FACEBOOK_APP_SECRET="xxxxx"

# Push Notifications
ONESIGNAL_APP_ID="xxxxx"
ONESIGNAL_API_KEY="xxxxx"

# ============================================
# DEVELOPMENT ONLY
# ====================================
# Enable debug logging
DEBUG="true"
LOG_LEVEL="debug"

# Disable rate limiting in development
DISABLE_RATE_LIMIT="true"

# ============================================
# MONITORING & ERROR TRACKING (Producción)
# ============================================
# Sentry for error tracking
# Get your DSN from: https://sentry.io/
SENTRY_DSN=https://your_sentry_dsn@sentry.io/project_id

PROMETHEUS_PORT=9090
GRAFANA_PORT=3002
GRAFANA_ADMIN_PASSWORD=change_in_production

# ============================================
# LOGGING
# ============================================
LOG_LEVEL=debug
LOG_FILE_PATH=./logs

# ============================================
# RATE LIMITING
# ============================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ============================================
# FILE UPLOAD
# ============================================
MAX_FILE_SIZE=5242880
UPLOAD_PATH=./uploads

# ============================================
# DATOS DEL NEGOCIO (Para facturas DJ y SEO)
# ============================================
BUSINESS_NAME=ReSona - Alquiler Material Eventos
BUSINESS_LEGAL_NAME=Tu Nombre o Razón Social
BUSINESS_TAX_ID=12345678X
BUSINESS_ADDRESS_STREET=Calle Example 123
BUSINESS_ADDRESS_CITY=Valencia
BUSINESS_ADDRESS_POSTAL_CODE=46001
BUSINESS_ADDRESS_COUNTRY=España
BUSINESS_EMAIL=contacto@resona.com
BUSINESS_PHONE=+34600000000

# Geolocalización (para SEO local)
BUSINESS_LATITUDE=39.4699
BUSINESS_LONGITUDE=-0.3763

# Redes Sociales (para Schema.org)
SOCIAL_FACEBOOK=https://www.facebook.com/resona
SOCIAL_INSTAGRAM=https://www.instagram.com/resona
SOCIAL_TWITTER=https://twitter.com/resona

# ============================================
# SEO
# ============================================
SITE_URL=https://resona.com
SITE_NAME=ReSona Valencia
SITE_DESCRIPTION=Alquiler de material para eventos en Valencia: altavoces, CDJs, luces, equipo DJ y más
DEFAULT_OG_IMAGE=https://resona.com/og-image.jpg

# ============================================
# BACKUPS AUTOMÁTICOS
# ============================================
# Directorio donde se guardan los backups
BACKUP_DIR=./backups/database

# Días de retención de backups (por defecto 30 días)
BACKUP_RETENTION_DAYS=30

# Email para notificaciones de error en backups
BACKUP_ERROR_EMAIL=admin@resona.com

# Slack webhook para notificaciones (opcional)
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# AWS S3 para almacenamiento en la nube (opcional)
# AWS_S3_BACKUP_BUCKET=resona-backups
# AWS_ACCESS_KEY_ID=your_access_key
# AWS_SECRET_ACCESS_KEY=your_secret_key
# AWS_DEFAULT_REGION=eu-west-1

# ============================================
# EXPIRACIÓN AUTOMÁTICA DE PEDIDOS
# ============================================
# Tiempo (en minutos) antes de expirar un pedido pendiente de pago
ORDER_EXPIRATION_MINUTES=30

# Intervalo (en minutos) para verificar pedidos expirados
ORDER_CHECK_INTERVAL_MINUTES=5

# Ejecutar verificación al iniciar el servidor (true/false)
ORDER_EXPIRATION_RUN_ON_START=false
